{"uid":"81a04e430e356457","name":"Smart Rule Static Field: Transaction Time-Before-block","fullName":"tests.end2end.rules_console.test_smart_rule_flow.TestSmartRuleFlow#test_sr_static_cond_txn_time","historyId":"c22bd1f938e20e67e2a670689de6de2e","time":{"start":1660040584069,"stop":1660040594172,"duration":10103},"description":"Transaction Time field needs a slightly different variation of steps as it is sensitive to the time of day the test automation is run\n        As such the Vanilla transaction is with timestamp now is not sent\n        ","descriptionHtml":"<p>Transaction Time field needs a slightly different variation of steps as it is sensitive to the time of day the test automation is run<br />\nAs such the Vanilla transaction is with timestamp now is not sent</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"cfg","time":{"start":1660032706972,"stop":1660032706972,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"users","time":{"start":1660032706972,"stop":1660032706972,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"browser","time":{"start":1660033344821,"stop":1660033346248,"duration":1427},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"ui_logout","time":{"start":1660033346249,"stop":1660033346249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"check_known_issues","time":{"start":1660040583830,"stop":1660040583831,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"fw_api","time":{"start":1660040583831,"stop":1660040583831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"ui_login","time":{"start":1660040583831,"stop":1660040584068,"duration":237},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"txn_samples","time":{"start":1660040584068,"stop":1660040584068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"cleanup_smart_rules","time":{"start":1660040584068,"stop":1660040584068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"Transaction Time field needs a slightly different variation of steps as it is sensitive to the time of day the test automation is run\n        As such the Vanilla transaction is with timestamp now is not sent\n        ","status":"passed","steps":[{"name":"Expand Rules Console Navbar","time":{"start":1660040584072,"stop":1660040584333,"duration":261},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Navigate to Rules Console - Smart Rules","time":{"start":1660040584346,"stop":1660040584722,"duration":376},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Check no conflicting active smart rules","time":{"start":1660040584726,"stop":1660040585407,"duration":681},"status":"passed","steps":[{"name":"Assert rules table as rules","time":{"start":1660040584726,"stop":1660040585407,"duration":681},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Click Add New Rule","time":{"start":1660040585407,"stop":1660040585514,"duration":107},"status":"passed","steps":[{"name":"Wait for filter bar to load","time":{"start":1660040585407,"stop":1660040585433,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Tick Activate Rule upon save","time":{"start":1660040585514,"stop":1660040585576,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Fill in Rule Name","time":{"start":1660040585576,"stop":1660040585786,"duration":210},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"name","value":"'tr_Transaction Time_Before_block_20220809_102304'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Select static condition from dropdown: 'Transaction Time'","time":{"start":1660040585786,"stop":1660040585877,"duration":91},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"field","value":"'Transaction Time'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Select condition option from dropdown: 'Before'","time":{"start":1660040585878,"stop":1660040585958,"duration":80},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"opt","value":"'Before'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Select value type from dropdown: 'Custom Time:'","time":{"start":1660040585958,"stop":1660040586042,"duration":84},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"value","value":"'Custom Time:'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Fill in value input: '10:00:00'","time":{"start":1660040586042,"stop":1660040586686,"duration":644},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"value","value":"'10:00:00'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Select Decision Option: 'block'","time":{"start":1660040586687,"stop":1660040586692,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"value","value":"'block'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Fill in comments","time":{"start":1660040586692,"stop":1660040586843,"duration":151},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"comments","value":"'test automation rule (delete me)'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Click confirm new rule","time":{"start":1660040586843,"stop":1660040589977,"duration":3134},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Filter rules table by name","time":{"start":1660040591978,"stop":1660040592426,"duration":448},"status":"passed","steps":[{"name":"Wait for filter bar to load","time":{"start":1660040591978,"stop":1660040592001,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"rule_name","value":"'tr_Transaction Time_Before_block_20220809_102304'"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Get first rule in table","time":{"start":1660040593427,"stop":1660040593505,"duration":78},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Send test transaction","time":{"start":1660040593527,"stop":1660040594171,"duration":644},"status":"passed","steps":[],"attachments":[{"uid":"64f4a287cd310a3f","name":"Transaction payload details","source":"64f4a287cd310a3f.txt","type":"text/plain","size":1410},{"uid":"14888ff765e277e9","name":"Transaction response details","source":"14888ff765e277e9.txt","type":"text/plain","size":162}],"parameters":[{"name":"payload","value":"{'merch_id': 'FW-000', 'merch_name': 'test-automation-base', 'merch_cat_code': '5732', 'merch_group_id': '54321', 'ISO_MTI': '0110', 'pos_entry_mode': '01', 'terminal_id': '99', 'ISO_pcc': '00', 'ISO_proc_code': '10200', 'user_ipv4': '127.0.1.1', 'browser_header': {}, 'browser_header_json': '{\"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\", \"Accept-Encoding\": \"gzip, deflate, sdch\", \"Accept-Language\": \"en-US,en;q=0.8\", \"Cache-Control\": \"max-age=0\", \"Connection\": \"keep-alive\"}', 'user_email': 'tony_stark@test.com', 'cc_firstname': 'tony', 'cc_lastname': 'stark', 'cc_bin': '555555', 'cc_last4': '4444', 'cc_last_digits': '4444', 'cc_hash': '2f725bbd1f405a1ed0336abaf85ddfeb6902a9984a76fd877c3b5cc3b5085a82', 'cc_exp_date': '0226', 'billing_firstname': 'tony', 'billing_lastname': 'stark', 'billing_address': 'Malibu Point', 'billing_state': 'California', 'billing_country_alpha2': 'US', 'billing_postal_code': '10880', 'billing_currency': 'USD', 'billing_amt': '1000', 'transaction_channel': '8', 'transaction_id_ext': 'tt_Transaction Time_Before_block', 'transaction_id_merch': '321', 'transaction_gmt_datetime': '2030-07-01 01:20:00'}"}],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Assert transaction decision","time":{"start":1660040594171,"stop":1660040594172,"duration":1},"status":"passed","steps":[{"name":"Assert transaction is blocked","time":{"start":1660040594171,"stop":1660040594172,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"fw_response","value":"{'code': 400, 'decline_rule': 'tr_Transaction Time_Before_block_20220809_102304', 'error': False, 'score_reason': None, 'sendforauth': 0, 'sendforreview': 1}"},{"name":"decline_rule_name","value":"'tr_Transaction Time_Before_block_20220809_102304'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"fw_response","value":"{'code': 400, 'decline_rule': 'tr_Transaction Time_Before_block_20220809_102304', 'error': False, 'score_reason': None, 'sendforauth': 0, 'sendforreview': 1}"},{"name":"decision","value":"'block'"},{"name":"rule_name","value":"'tr_Transaction Time_Before_block_20220809_102304'"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":21,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"cleanup_smart_rules::0","time":{"start":1660040594172,"stop":1660040598676,"duration":4504},"status":"passed","steps":[{"name":"Expand Rules Console Navbar","time":{"start":1660040594177,"stop":1660040594219,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Navigate to Rules Console - Smart Rules","time":{"start":1660040594220,"stop":1660040594354,"duration":134},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Filter rules table by name","time":{"start":1660040596677,"stop":1660040597156,"duration":479},"status":"passed","steps":[{"name":"Wait for filter bar to load","time":{"start":1660040596677,"stop":1660040596707,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"rule_name","value":"'tr_Transaction Time_Before_block_20220809_102304'"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Get first rule in table","time":{"start":1660040598157,"stop":1660040598257,"duration":100},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Click delete rule","time":{"start":1660040598257,"stop":1660040598405,"duration":148},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Click confirm delete rule","time":{"start":1660040598405,"stop":1660040598603,"duration":198},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":7,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"ui_login::0","time":{"start":1660040598678,"stop":1660040598678,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"fw_api::0","time":{"start":1660040598679,"stop":1660040598679,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"ui_logout::0","time":{"start":1660040641991,"stop":1660040643190,"duration":1199},"status":"passed","steps":[{"name":"Click Logout","time":{"start":1660040642085,"stop":1660040643190,"duration":1105},"status":"broken","statusMessage":"selenium.common.exceptions.ElementClickInterceptedException: Message: element click intercepted: Element <li role=\"menuitem\" id=\"logoutLink\" tabindex=\"-1\">...</li> is not clickable at point (705, 67). Other element would receive the click: <a href=\"/settings\">...</a>\n  (Session info: headless chrome=104.0.5112.79)\n\n","statusTrace":"  File \"/var/snap/amazon-ssm-agent/5656/actions-runner/_work/_tool/Python/3.7.13/x64/lib/python3.7/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/var/snap/amazon-ssm-agent/5656/actions-runner/_work/test-fw-ci/test-fw-ci/fw/pages/top_navbar_page.py\", line 22, in click_logout\n    logout_btn.click()\n  File \"/var/snap/amazon-ssm-agent/5656/actions-runner/_work/_tool/Python/3.7.13/x64/lib/python3.7/site-packages/selenium/webdriver/remote/webelement.py\", line 80, in click\n    self._execute(Command.CLICK_ELEMENT)\n  File \"/var/snap/amazon-ssm-agent/5656/actions-runner/_work/_tool/Python/3.7.13/x64/lib/python3.7/site-packages/selenium/webdriver/remote/webelement.py\", line 633, in _execute\n    return self._parent.execute(command, params)\n  File \"/var/snap/amazon-ssm-agent/5656/actions-runner/_work/_tool/Python/3.7.13/x64/lib/python3.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 321, in execute\n    self.error_handler.check_response(response)\n  File \"/var/snap/amazon-ssm-agent/5656/actions-runner/_work/_tool/Python/3.7.13/x64/lib/python3.7/site-packages/selenium/webdriver/remote/errorhandler.py\", line 242, in check_response\n    raise exception_class(message, screen, stacktrace)\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"browser::0","time":{"start":1660040643232,"stop":1660040643291,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('check_known_issues')"},{"name":"tag","value":"regression"},{"name":"tag","value":"indevelopment"},{"name":"parentSuite","value":"tests.end2end.rules_console"},{"name":"suite","value":"test_smart_rule_flow"},{"name":"subSuite","value":"TestSmartRuleFlow"},{"name":"host","value":"ip-10-20-30-10"},{"name":"thread","value":"15858-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.end2end.rules_console.test_smart_rule_flow"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser","value":"'chrome'"},{"name":"txn_time_conditions","value":"{'field': 'Transaction Time', 'decision': 'block', 'operator': 'Before', 'value_option': 'Custom Time:', 'value': '10:00:00', 'txn_update': {'transaction_gmt_datetime': '2030-07-01 01:20:00'}, 'expected_response': 'block'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":1,"unknown":0,"total":2},"items":[{"uid":"e6d63f4bac4b94a4","reportUrl":"https://bowiegan-jp.github.io/test-fw-ci/4//#testresult/e6d63f4bac4b94a4","status":"broken","statusDetails":"selenium.common.exceptions.InvalidArgumentException: Message: invalid argument\n  (Session info: headless chrome=104.0.5112.79)","time":{"start":1660032423946,"stop":1660032423946,"duration":0}}]},"tags":["@pytest.mark.usefixtures('check_known_issues')","regression","indevelopment"]},"source":"81a04e430e356457.json","parameterValues":["'chrome'","{'field': 'Transaction Time', 'decision': 'block', 'operator': 'Before', 'value_option': 'Custom Time:', 'value': '10:00:00', 'txn_update': {'transaction_gmt_datetime': '2030-07-01 01:20:00'}, 'expected_response': 'block'}"]}