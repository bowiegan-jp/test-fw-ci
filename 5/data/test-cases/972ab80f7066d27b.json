{"uid":"972ab80f7066d27b","name":"Smart Rule Static Field: Transaction Time-After or on-allow","fullName":"tests.end2end.rules_console.test_smart_rule_flow.TestSmartRuleFlow#test_sr_static_cond_txn_time","historyId":"880dfa57fde6943e7074039ebf335901","time":{"start":1660040553802,"stop":1660040564554,"duration":10752},"description":"Transaction Time field needs a slightly different variation of steps as it is sensitive to the time of day the test automation is run\n        As such the Vanilla transaction is with timestamp now is not sent\n        ","descriptionHtml":"<p>Transaction Time field needs a slightly different variation of steps as it is sensitive to the time of day the test automation is run<br />\nAs such the Vanilla transaction is with timestamp now is not sent</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"cfg","time":{"start":1660032706972,"stop":1660032706972,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"users","time":{"start":1660032706972,"stop":1660032706972,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"browser","time":{"start":1660033344821,"stop":1660033346248,"duration":1427},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"ui_logout","time":{"start":1660033346249,"stop":1660033346249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"check_known_issues","time":{"start":1660040553704,"stop":1660040553704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"ui_login","time":{"start":1660040553705,"stop":1660040553800,"duration":95},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"fw_api","time":{"start":1660040553705,"stop":1660040553705,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"cleanup_smart_rules","time":{"start":1660040553801,"stop":1660040553801,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"txn_samples","time":{"start":1660040553801,"stop":1660040553801,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"Transaction Time field needs a slightly different variation of steps as it is sensitive to the time of day the test automation is run\n        As such the Vanilla transaction is with timestamp now is not sent\n        ","status":"passed","steps":[{"name":"Expand Rules Console Navbar","time":{"start":1660040553804,"stop":1660040554260,"duration":456},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Navigate to Rules Console - Smart Rules","time":{"start":1660040554273,"stop":1660040554912,"duration":639},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Check no conflicting active smart rules","time":{"start":1660040554918,"stop":1660040555590,"duration":672},"status":"passed","steps":[{"name":"Assert rules table as rules","time":{"start":1660040554918,"stop":1660040555590,"duration":672},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Click Add New Rule","time":{"start":1660040555590,"stop":1660040555696,"duration":106},"status":"passed","steps":[{"name":"Wait for filter bar to load","time":{"start":1660040555590,"stop":1660040555615,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Tick Activate Rule upon save","time":{"start":1660040555696,"stop":1660040555761,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Fill in Rule Name","time":{"start":1660040555761,"stop":1660040555975,"duration":214},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"name","value":"'tr_Transaction Time_After or on_allow_20220809_102233'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Select static condition from dropdown: 'Transaction Time'","time":{"start":1660040555975,"stop":1660040556057,"duration":82},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"field","value":"'Transaction Time'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Select condition option from dropdown: 'After or on'","time":{"start":1660040556058,"stop":1660040556144,"duration":86},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"opt","value":"'After or on'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Select value type from dropdown: 'Custom Time:'","time":{"start":1660040556144,"stop":1660040556224,"duration":80},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"value","value":"'Custom Time:'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Fill in value input: '10:00:00'","time":{"start":1660040556224,"stop":1660040556868,"duration":644},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"value","value":"'10:00:00'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Select Decision Option: 'allow'","time":{"start":1660040556869,"stop":1660040556874,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"value","value":"'allow'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Fill in comments","time":{"start":1660040556874,"stop":1660040557020,"duration":146},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"comments","value":"'test automation rule (delete me)'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Click confirm new rule","time":{"start":1660040557020,"stop":1660040560205,"duration":3185},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Filter rules table by name","time":{"start":1660040562208,"stop":1660040562799,"duration":591},"status":"passed","steps":[{"name":"Wait for filter bar to load","time":{"start":1660040562208,"stop":1660040562234,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"rule_name","value":"'tr_Transaction Time_After or on_allow_20220809_102233'"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Get first rule in table","time":{"start":1660040563800,"stop":1660040563882,"duration":82},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Send test transaction","time":{"start":1660040563903,"stop":1660040564554,"duration":651},"status":"passed","steps":[],"attachments":[{"uid":"de9ae6cd50b741e7","name":"Transaction payload details","source":"de9ae6cd50b741e7.txt","type":"text/plain","size":1415},{"uid":"fe47d74090f41898","name":"Transaction response details","source":"fe47d74090f41898.txt","type":"text/plain","size":167}],"parameters":[{"name":"payload","value":"{'merch_id': 'FW-000', 'merch_name': 'test-automation-base', 'merch_cat_code': '5732', 'merch_group_id': '54321', 'ISO_MTI': '0110', 'pos_entry_mode': '01', 'terminal_id': '99', 'ISO_pcc': '00', 'ISO_proc_code': '10200', 'user_ipv4': '127.0.1.1', 'browser_header': {}, 'browser_header_json': '{\"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\", \"Accept-Encoding\": \"gzip, deflate, sdch\", \"Accept-Language\": \"en-US,en;q=0.8\", \"Cache-Control\": \"max-age=0\", \"Connection\": \"keep-alive\"}', 'user_email': 'tony_stark@test.com', 'cc_firstname': 'tony', 'cc_lastname': 'stark', 'cc_bin': '555555', 'cc_last4': '4444', 'cc_last_digits': '4444', 'cc_hash': '2f725bbd1f405a1ed0336abaf85ddfeb6902a9984a76fd877c3b5cc3b5085a82', 'cc_exp_date': '0226', 'billing_firstname': 'tony', 'billing_lastname': 'stark', 'billing_address': 'Malibu Point', 'billing_state': 'California', 'billing_country_alpha2': 'US', 'billing_postal_code': '10880', 'billing_currency': 'USD', 'billing_amt': '1000', 'transaction_channel': '1', 'transaction_id_ext': 'tt_Transaction Time_After or on_allow', 'transaction_id_merch': '321', 'transaction_gmt_datetime': '2030-06-01 02:00:00'}"}],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Assert transaction decision","time":{"start":1660040564554,"stop":1660040564554,"duration":0},"status":"passed","steps":[{"name":"Assert transaction is passed","time":{"start":1660040564554,"stop":1660040564554,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"fw_response","value":"{'code': 300, 'decline_rule': None, 'error': False, 'score_reason': 'tr_Transaction Time_After or on_allow_20220809_102233', 'sendforauth': 1, 'sendforreview': 0}"},{"name":"pass_rule_name","value":"'tr_Transaction Time_After or on_allow_20220809_102233'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"fw_response","value":"{'code': 300, 'decline_rule': None, 'error': False, 'score_reason': 'tr_Transaction Time_After or on_allow_20220809_102233', 'sendforauth': 1, 'sendforreview': 0}"},{"name":"decision","value":"'pass'"},{"name":"rule_name","value":"'tr_Transaction Time_After or on_allow_20220809_102233'"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":21,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"cleanup_smart_rules::0","time":{"start":1660040564555,"stop":1660040568796,"duration":4241},"status":"passed","steps":[{"name":"Expand Rules Console Navbar","time":{"start":1660040564556,"stop":1660040564604,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Navigate to Rules Console - Smart Rules","time":{"start":1660040564604,"stop":1660040564708,"duration":104},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Filter rules table by name","time":{"start":1660040566924,"stop":1660040567508,"duration":584},"status":"passed","steps":[{"name":"Wait for filter bar to load","time":{"start":1660040566925,"stop":1660040566962,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"rule_name","value":"'tr_Transaction Time_After or on_allow_20220809_102233'"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Get first rule in table","time":{"start":1660040568510,"stop":1660040568600,"duration":90},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Click delete rule","time":{"start":1660040568600,"stop":1660040568685,"duration":85},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Click confirm delete rule","time":{"start":1660040568685,"stop":1660040568765,"duration":80},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":7,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"ui_login::0","time":{"start":1660040568798,"stop":1660040568798,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"fw_api::0","time":{"start":1660040568798,"stop":1660040568799,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"ui_logout::0","time":{"start":1660040641991,"stop":1660040643190,"duration":1199},"status":"passed","steps":[{"name":"Click Logout","time":{"start":1660040642085,"stop":1660040643190,"duration":1105},"status":"broken","statusMessage":"selenium.common.exceptions.ElementClickInterceptedException: Message: element click intercepted: Element <li role=\"menuitem\" id=\"logoutLink\" tabindex=\"-1\">...</li> is not clickable at point (705, 67). Other element would receive the click: <a href=\"/settings\">...</a>\n  (Session info: headless chrome=104.0.5112.79)\n\n","statusTrace":"  File \"/var/snap/amazon-ssm-agent/5656/actions-runner/_work/_tool/Python/3.7.13/x64/lib/python3.7/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/var/snap/amazon-ssm-agent/5656/actions-runner/_work/test-fw-ci/test-fw-ci/fw/pages/top_navbar_page.py\", line 22, in click_logout\n    logout_btn.click()\n  File \"/var/snap/amazon-ssm-agent/5656/actions-runner/_work/_tool/Python/3.7.13/x64/lib/python3.7/site-packages/selenium/webdriver/remote/webelement.py\", line 80, in click\n    self._execute(Command.CLICK_ELEMENT)\n  File \"/var/snap/amazon-ssm-agent/5656/actions-runner/_work/_tool/Python/3.7.13/x64/lib/python3.7/site-packages/selenium/webdriver/remote/webelement.py\", line 633, in _execute\n    return self._parent.execute(command, params)\n  File \"/var/snap/amazon-ssm-agent/5656/actions-runner/_work/_tool/Python/3.7.13/x64/lib/python3.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 321, in execute\n    self.error_handler.check_response(response)\n  File \"/var/snap/amazon-ssm-agent/5656/actions-runner/_work/_tool/Python/3.7.13/x64/lib/python3.7/site-packages/selenium/webdriver/remote/errorhandler.py\", line 242, in check_response\n    raise exception_class(message, screen, stacktrace)\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"browser::0","time":{"start":1660040643232,"stop":1660040643291,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('check_known_issues')"},{"name":"tag","value":"regression"},{"name":"tag","value":"indevelopment"},{"name":"parentSuite","value":"tests.end2end.rules_console"},{"name":"suite","value":"test_smart_rule_flow"},{"name":"subSuite","value":"TestSmartRuleFlow"},{"name":"host","value":"ip-10-20-30-10"},{"name":"thread","value":"15858-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.end2end.rules_console.test_smart_rule_flow"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser","value":"'chrome'"},{"name":"txn_time_conditions","value":"{'field': 'Transaction Time', 'decision': 'allow', 'operator': 'After or on', 'value_option': 'Custom Time:', 'value': '10:00:00', 'txn_update': {'transaction_gmt_datetime': '2030-06-01 02:00:00'}, 'expected_response': 'pass'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":1,"unknown":0,"total":2},"items":[{"uid":"ef21743eb122ab83","reportUrl":"https://bowiegan-jp.github.io/test-fw-ci/4//#testresult/ef21743eb122ab83","status":"broken","statusDetails":"selenium.common.exceptions.InvalidArgumentException: Message: invalid argument\n  (Session info: headless chrome=104.0.5112.79)","time":{"start":1660032423824,"stop":1660032423824,"duration":0}}]},"tags":["@pytest.mark.usefixtures('check_known_issues')","regression","indevelopment"]},"source":"972ab80f7066d27b.json","parameterValues":["'chrome'","{'field': 'Transaction Time', 'decision': 'allow', 'operator': 'After or on', 'value_option': 'Custom Time:', 'value': '10:00:00', 'txn_update': {'transaction_gmt_datetime': '2030-06-01 02:00:00'}, 'expected_response': 'pass'}"]}